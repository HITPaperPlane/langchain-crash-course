[
    [['序号'], ['1']], 
    [['环境项目'], ['照明条件']], 
    [['标准要求'], ['作业现场照明不低于150lx']], 
    [['序号'], ['2']], 
    [['环境项目'], ['通风条件']], 
    [['标准要求'], ['确保空气流通，有害气体浓度符合标准']]
]

[
    [['序号', '环境项目'], ['1', '照明条件']], 
    [['标准要求'], ['作业现场照明不低于150lx']], 
    [['序号', '环境项目'], ['2', '通风条件']], 
    [['标准要求'], ['确保空气流通，有害气体浓度符合标准']]
]

[
    [['序号', '环境项目', '标准要求'], ['1', '照明条件', '作业现场照明不低于150lx']], 
    [['序号', '环境项目', '标准要求'], ['2', '通风条件', '确保空气流通，有害气体浓度符合标准']]
]

# 打印数据库中的所有文本分块
def print_database_chunks():
    print("\n--- 当前数据库中的分块 ---")
    all_docs = db.get()
    docs = all_docs["documents"]
    # metadatas = all_docs["metadatas"] # 移除了 metadatas

    csv_file = "database_chunks.csv"
    with open(csv_file, "w", newline="", encoding="utf-8") as f:
        writer = csv.writer(f)
        writer.writerow(["序号", "文本内容"]) #, "元数据"])  # 移除了元数据

        for idx, doc in enumerate(docs, 1):
            print(f"分块 {idx}: {doc}")
            writer.writerow([idx, doc]) #, str(metadata)]) # 移除了元数据

    print(f"\n分块数据已保存到 {csv_file}")

